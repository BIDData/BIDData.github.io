<!DOCTYPE html >
<html>
        <head>
          <title>BayesNetMooc - BIDMach.models.BayesNetMooc</title>
          <meta name="description" content="BayesNetMooc - BIDMach.models.BayesNetMooc" />
          <meta name="keywords" content="BayesNetMooc BIDMach.models.BayesNetMooc" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../lib/template.js"></script>
      <script type="text/javascript" src="../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../index.html';
            var hash = 'BIDMach.models.BayesNetMooc$';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img src="../../lib/object_big.png" />
        <p id="owner"><a href="../package.html" class="extype" name="BIDMach">BIDMach</a>.<a href="package.html" class="extype" name="BIDMach.models">models</a></p>
        <h1>BayesNetMooc</h1> <span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <span class="name">BayesNetMooc</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="comment cmt"><p>A Bayesian Network implementation with fast parallel Gibbs Sampling on a MOOC dataset.
This is Huasha Zhao's versions, with comments added by Daniel Seita.
Do not use this version. Use BayesNetMooc2.scala.
</p></div><div class="toggleContainer block">
          <span class="toggle">Linear Supertypes</span>
          <div class="superTypes hiddenContent"><span class="extype" name="scala.AnyRef">AnyRef</span>, <span class="extype" name="scala.Any">Any</span></div>
        </div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        <div id="order">
              <span class="filtertype">Ordering</span>
              <ol>
                
                <li class="alpha in"><span>Alphabetic</span></li>
                <li class="inherit out"><span>By inheritance</span></li>
              </ol>
            </div>
        <div id="ancestors">
                <span class="filtertype">Inherited<br />
                </span>
                <ol id="linearization">
                  <li class="in" name="BIDMach.models.BayesNetMooc"><span>BayesNetMooc</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                </ol>
              </div><div id="ancestors">
            <span class="filtertype"></span>
            <ol>
              <li class="hideall out"><span>Hide All</span></li>
              <li class="showall in"><span>Show all</span></li>
            </ol>
            <a href="http://docs.scala-lang.org/overviews/scaladoc/usage.html#members" target="_blank">Learn more about member selection</a>
          </div>
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="scala.AnyRef#!=" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="!=(x$1:Any):Boolean"></a>
      <a id="!=(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $bang$eq" class="name">!=</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@!=(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef###" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="##():Int"></a>
      <a id="##():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $hash$hash" class="name">##</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@##():Int" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef#==" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="==(x$1:Any):Boolean"></a>
      <a id="==(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $eq$eq" class="name">==</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@==(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#alpha" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="alpha:Float"></a>
      <a id="alpha:Float"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">alpha</span><span class="result">: <span class="extype" name="scala.Float">Float</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@alpha:Float" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="scala.Any#asInstanceOf" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="asInstanceOf[T0]:T0"></a>
      <a id="asInstanceOf[T0]:T0"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">asInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span class="extype" name="scala.Any.asInstanceOf.T0">T0</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@asInstanceOf[T0]:T0" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#batchSize" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="batchSize:Int"></a>
      <a id="batchSize:Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">batchSize</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@batchSize:Int" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#beta" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="beta:Float"></a>
      <a id="beta:Float"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">beta</span><span class="result">: <span class="extype" name="scala.Float">Float</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@beta:Float" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="scala.AnyRef#clone" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="clone():Object"></a>
      <a id="clone():AnyRef"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">clone</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@clone():Object" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../../java$lang.html" class="extype" name="java.lang">java.lang</a>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.CloneNotSupportedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#cpt" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="cpt:BIDMat.FMat"></a>
      <a id="cpt:FMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">cpt</span><span class="result">: <span class="extype" name="BIDMat.FMat">FMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@cpt:BIDMat.FMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#cptoffset" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="cptoffset:BIDMat.IMat"></a>
      <a id="cptoffset:IMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">cptoffset</span><span class="result">: <span class="extype" name="BIDMat.IMat">IMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@cptoffset:BIDMat.IMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="scala.AnyRef#eq" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="eq(x$1:AnyRef):Boolean"></a>
      <a id="eq(AnyRef):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">eq</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.AnyRef">AnyRef</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@eq(x$1:AnyRef):Boolean" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#equals" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="equals(x$1:Any):Boolean"></a>
      <a id="equals(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">equals</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Any">Any</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@equals(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#eval" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="eval:Unit"></a>
      <a id="eval:Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">eval</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@eval:Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Computes log likelihood of the data.</p><div class="fullcomment"><div class="comment cmt"><p>Computes log likelihood of the data. Remember that &quot;cpt&quot; stores raw probabilities, not logarithms.</p></div></div>
    </li><li name="scala.AnyRef#finalize" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="finalize():Unit"></a>
      <a id="finalize():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">finalize</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@finalize():Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../../java$lang.html" class="extype" name="java.lang">java.lang</a>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="symbol">classOf[java.lang.Throwable]</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#getClass" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="getClass():Class[_]"></a>
      <a id="getClass():Class[_]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">getClass</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.Class">Class</span>[_]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@getClass():Class[_]" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#getCpt" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="getCpt(index:BIDMat.IMat):BIDMat.FMat"></a>
      <a id="getCpt(IMat):FMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">getCpt</span><span class="params">(<span name="index">index: <span class="extype" name="BIDMat.IMat">IMat</span></span>)</span><span class="result">: <span class="extype" name="BIDMat.FMat">FMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@getCpt(index:BIDMat.IMat):BIDMat.FMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Returns a CPT (conditional probability table).</p><div class="fullcomment"><div class="comment cmt"><p>Returns a CPT (conditional probability table). The index.nr = number of elements in pids.</p></div></div>
    </li><li name="BIDMach.models.BayesNetMooc#graph" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="graph:BIDMach.models.Graph"></a>
      <a id="graph:Graph"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">graph</span><span class="result">: <a href="Graph.html" class="extype" name="BIDMach.models.Graph">Graph</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@graph:BIDMach.models.Graph" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="scala.AnyRef#hashCode" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="hashCode():Int"></a>
      <a id="hashCode():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">hashCode</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@hashCode():Int" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#init" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="init(nodepath:String,dagpath:String):Unit"></a>
      <a id="init(String,String):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">init</span><span class="params">(<span name="nodepath">nodepath: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="dagpath">dagpath: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@init(nodepath:String,dagpath:String):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Loads the nodes, the DAG, and create a graph with coloring and moralizing capabilities.</p>
    </li><li name="BIDMach.models.BayesNetMooc#initState" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="initState(fdata:BIDMat.FMat):Unit"></a>
      <a id="initState(FMat):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">initState</span><span class="params">(<span name="fdata">fdata: <span class="extype" name="BIDMat.FMat">FMat</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@initState(fdata:BIDMat.FMat):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">For the first iteration of Gibbs sampling, initialize &quot;state&quot; to be of the same dimensions as
fdata (assuming nsampls=1) with 0s and 1s at random.</p><div class="fullcomment"><div class="comment cmt"><p>For the first iteration of Gibbs sampling, initialize &quot;state&quot; to be of the same dimensions as
fdata (assuming nsampls=1) with 0s and 1s at random. But then, take the data from fdata and put
0s and 1s in &quot;state&quot; corresponding to -1s and +1s, respectively, in fdata. Basically, this
randomizes the unknown node-student pairs (and there are a lot), but keeps the known ones.
</p></div><dl class="paramcmts block"><dt class="param">fdata</dt><dd class="cmt"><p>A sparse data matrix that is a block of the sdata (but with same # of rows). It
   contains 1s and -1s.
</p></dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#initStateColor" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="initStateColor(fdata:BIDMat.FMat,ids:BIDMat.IMat):Unit"></a>
      <a id="initStateColor(FMat,IMat):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">initStateColor</span><span class="params">(<span name="fdata">fdata: <span class="extype" name="BIDMat.FMat">FMat</span></span>, <span name="ids">ids: <span class="extype" name="BIDMat.IMat">IMat</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@initStateColor(fdata:BIDMat.FMat,ids:BIDMat.IMat):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Creates state0 and state1 by copying over from &quot;state&quot;.</p><div class="fullcomment"><div class="comment cmt"><p>Creates state0 and state1 by copying over from &quot;state&quot;. For the nodes in the current color
group, their rows in state0 and state1 are all 0s and 1s, respectively. Then, we fill in the
known node-student pairs in a similar manner as initState(), though here we are careful to
reset the nonzeros back to 0, which means state0 and state1 only have 0s and 1s. In short,
state0 and state1 are like state except in the rows that correspond to the ids.
</p></div><dl class="paramcmts block"><dt class="param">fdata</dt><dd class="cmt"><p>The sparse data matrix consisting of -1s and 1s.</p></dd><dt class="param">ids</dt><dd class="cmt"><p>The indices (0 to 333 for MOOC data) of the nodes in this current color group.
</p></dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#iproject" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="iproject:BIDMat.SMat"></a>
      <a id="iproject:SMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">iproject</span><span class="result">: <span class="extype" name="BIDMat.SMat">SMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@iproject:BIDMat.SMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="scala.Any#isInstanceOf" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="isInstanceOf[T0]:Boolean"></a>
      <a id="isInstanceOf[T0]:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">isInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@isInstanceOf[T0]:Boolean" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#llikelihood" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="llikelihood:Float"></a>
      <a id="llikelihood:Float"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">llikelihood</span><span class="result">: <span class="extype" name="scala.Float">Float</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@llikelihood:Float" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#loadDag" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="loadDag(path:String,n:Int):BIDMat.SMat"></a>
      <a id="loadDag(String,Int):SMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">loadDag</span><span class="params">(<span name="path">path: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="n">n: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: <span class="extype" name="BIDMat.SMat">SMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@loadDag(path:String,n:Int):BIDMat.SMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Loads the dag file and converts it to an adjacency matrix so that we can create a graph object.</p><div class="fullcomment"><div class="comment cmt"><p>Loads the dag file and converts it to an adjacency matrix so that we can create a graph object.
Each line consists of two nodes represented by Strings, so use the previously-formed nodeMap to
create the actual entries in the dag matrix.
</p></div><dl class="paramcmts block"><dt class="param">path</dt><dd class="cmt"><p>The path to the dag file (e.g., dag.txt).</p></dd><dt>returns</dt><dd class="cmt"><p>An adjacency matrix (of type SMat) for use to create a graph.
</p></dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#loadData" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="loadData(datapath:String,nq:Int,ns:Int):Unit"></a>
      <a id="loadData(String,Int,Int):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">loadData</span><span class="params">(<span name="datapath">datapath: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="nq">nq: <span class="extype" name="scala.Int">Int</span></span>, <span name="ns">ns: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@loadData(datapath:String,nq:Int,ns:Int):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Puts train/test data in sdata/tdata, respectively.</p><div class="fullcomment"><div class="comment cmt"><p>Puts train/test data in sdata/tdata, respectively. The train/test split should be known in advance.</p></div></div>
    </li><li name="BIDMach.models.BayesNetMooc#loadNodeMap" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="loadNodeMap(path:String):scala.collection.mutable.HashMap[String,Int]"></a>
      <a id="loadNodeMap(String):HashMap[String,Int]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">loadNodeMap</span><span class="params">(<span name="path">path: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.collection.mutable.HashMap">HashMap</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.Int">Int</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@loadNodeMap(path:String):scala.collection.mutable.HashMap[String,Int]" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Loads the node file to create a node map.</p><div class="fullcomment"><div class="comment cmt"><p>Loads the node file to create a node map. The node file has each line like:
  question_or_concept_ID,integer_index
Thus, we can form one entry of the map with one line in the file.
</p></div><dl class="paramcmts block"><dt class="param">path</dt><dd class="cmt"><p>The file path to the node file (e.g, node.txt).</p></dd><dt>returns</dt><dd class="cmt"><p>A map from strings (questions or concepts) to integers (0 to n-1).
</p></dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#loadSData" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="loadSData(path:String,nq:Int,ns:Int):BIDMat.SMat"></a>
      <a id="loadSData(String,Int,Int):SMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">loadSData</span><span class="params">(<span name="path">path: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="nq">nq: <span class="extype" name="scala.Int">Int</span></span>, <span name="ns">ns: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: <span class="extype" name="BIDMat.SMat">SMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@loadSData(path:String,nq:Int,ns:Int):BIDMat.SMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Loads the data and stores the training samples in 'sdata'.</p><div class="fullcomment"><div class="comment cmt"><p>Loads the data and stores the training samples in 'sdata'.</p><p>The path refers to a text file that consists of five columns: the first is the line's hash, the
second is the student number, the third is the question number, the fourth is a 0 or a 1, and
the fifth is the concept ID.</p><p>There's a little bit of out-of-place code here because the PrintWriter will create a data file
&quot;sdata_new&quot; that augments the original sdata we have (in &quot;sdata_cleaned&quot;) with a 0 or a 1 at
the end of each line, randomly chosen in a ratio we pick. A &quot;1&quot; indicates that the line should
be part of training; a &quot;0&quot; means it should be test data.</p><p>If we do already have sdata_new, we do not need the PrintWriter code and can directly split the
lines to put data in &quot;row&quot;, &quot;col&quot; and &quot;v&quot;, which are then put into an (nq x ns) sparse matrix.
</p></div><dl class="paramcmts block"><dt class="param">path</dt><dd class="cmt"><p>The path to the sdata_new.txt file, assuming that's what we're using.</p></dd><dt class="param">nq</dt><dd class="cmt"><p>The number of questions (334 on the MOOC data)</p></dd><dt class="param">ns</dt><dd class="cmt"><p>The number of students (4367 on the MOOC data)</p></dd><dt>returns</dt><dd class="cmt"><p>An (nq x ns) sparse matrix that represents the training data. It's sparse because
   students only answered a few questions each, and values will be {-1, 0, 1}.
</p></dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#loadTData" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="loadTData(path:String,nq:Int,ns:Int):BIDMat.SMat"></a>
      <a id="loadTData(String,Int,Int):SMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">loadTData</span><span class="params">(<span name="path">path: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="nq">nq: <span class="extype" name="scala.Int">Int</span></span>, <span name="ns">ns: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: <span class="extype" name="BIDMat.SMat">SMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@loadTData(path:String,nq:Int,ns:Int):BIDMat.SMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Loads the data and stores the testing samples in 'tdata' in a similar manner as loadSData().</p><div class="fullcomment"><div class="comment cmt"><p>Loads the data and stores the testing samples in 'tdata' in a similar manner as loadSData().
</p></div><dl class="paramcmts block"><dt class="param">path</dt><dd class="cmt"><p>The path to the sdata_new.txt file, assuming that's what we're using.</p></dd><dt class="param">nq</dt><dd class="cmt"><p>The number of questions (334 on the MOOC data)</p></dd><dt class="param">ns</dt><dd class="cmt"><p>The number of students (4367 on the MOOC data)</p></dd><dt>returns</dt><dd class="cmt"><p>An (nq x ns) sparse matrix that represents the training data. It's sparse because
   students only answered a few questions each, and values will be {-1, 0, 1}.
</p></dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#main" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="main(args:Array[String]):Unit"></a>
      <a id="main(Array[String]):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">main</span><span class="params">(<span name="args">args: <span class="extype" name="scala.Array">Array</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@main(args:Array[String]):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Set up paths and variables.</p><div class="fullcomment"><div class="comment cmt"><p>Set up paths and variables. nq = num questions/concepts, ns = num students. Then sample.</p></div></div>
    </li><li name="scala.AnyRef#ne" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ne(x$1:AnyRef):Boolean"></a>
      <a id="ne(AnyRef):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">ne</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.AnyRef">AnyRef</span></span>)</span><span class="result">: <span class="extype" name="scala.Boolean">Boolean</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@ne(x$1:AnyRef):Boolean" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#niter" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="niter:Int"></a>
      <a id="niter:Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">niter</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@niter:Int" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#nodeMap" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="nodeMap:scala.collection.mutable.HashMap[String,Int]"></a>
      <a id="nodeMap:HashMap[String,Int]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">nodeMap</span><span class="result">: <span class="extype" name="scala.collection.mutable.HashMap">HashMap</span>[<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.Int">Int</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@nodeMap:scala.collection.mutable.HashMap[String,Int]" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="scala.AnyRef#notify" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="notify():Unit"></a>
      <a id="notify():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notify</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@notify():Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#notifyAll" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="notifyAll():Unit"></a>
      <a id="notifyAll():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notifyAll</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@notifyAll():Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#nsampls" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="nsampls:Int"></a>
      <a id="nsampls:Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">nsampls</span><span class="result">: <span class="extype" name="scala.Int">Int</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@nsampls:Int" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#pproject" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="pproject:BIDMat.SMat"></a>
      <a id="pproject:SMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">pproject</span><span class="result">: <span class="extype" name="BIDMat.SMat">SMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@pproject:BIDMat.SMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#pred" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="pred(i:Int):Unit"></a>
      <a id="pred(Int):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">pred</span><span class="params">(<span name="i">i: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@pred(i:Int):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">After every iteration of Gibbs sampling, run it on the test data and print out result.</p><div class="fullcomment"><div class="comment cmt"><p>After every iteration of Gibbs sampling, run it on the test data and print out result. Random
guessing is 50%; we are currently getting 65% for the best accuracy. If predprobs(i,j) = p,
then the Gibbs sampler thinks this question/student pair is 1 (i.e., student answered
correctly) with probability p. If it's at least 0.5, we pick true, else it's false.  We check
the true value in tdata. Accuracy is simply total correct divided by total possible.
I am not sure why we need to sample before doing this again, because we have already sampled...
</p></div><dl class="paramcmts block"><dt class="param">i</dt><dd class="cmt"><p>The current iteration of Gibbs Sampling.
</p></dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#predprobs" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="predprobs:BIDMat.FMat"></a>
      <a id="predprobs:FMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">predprobs</span><span class="result">: <span class="extype" name="BIDMat.FMat">FMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@predprobs:BIDMat.FMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#sample" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sample(data:BIDMat.SMat,k:Int):Unit"></a>
      <a id="sample(SMat,Int):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sample</span><span class="params">(<span name="data">data: <span class="extype" name="BIDMat.SMat">SMat</span></span>, <span name="k">k: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@sample(data:BIDMat.SMat,k:Int):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Performs Gibbs sampling on a slice of the data.</p><div class="fullcomment"><div class="comment cmt"><p>Performs Gibbs sampling on a slice of the data. This is where we iterate through color groups.
</p></div><dl class="paramcmts block"><dt class="param">data</dt><dd class="cmt"><p>A sparse data matrix that is a block of the sdata (but with same # of rows). It
   contains 1s and -1s.</p></dd><dt class="param">k</dt><dd class="cmt"><p>The current iteration of Gibbs sampling. If k=0, we need to initialize the states.
   Note that this is also 0 when we call sample from pred(k) in sampleAll().
</p></dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#sampleAll" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sampleAll:Unit"></a>
      <a id="sampleAll:Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sampleAll</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@sampleAll:Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Called from the main method and iterates through the color groups to sample.</p><div class="fullcomment"><div class="comment cmt"><p>Called from the main method and iterates through the color groups to sample. It samples on a
block of consecutive columns of the sdata, then updates the CPTs, and evalues. Then repeats.
After each iteration, predict on the testing data and report log likelihood.
</p></div></div>
    </li><li name="BIDMach.models.BayesNetMooc#sampleColor" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sampleColor(fdata:BIDMat.FMat,ids:BIDMat.IMat):Unit"></a>
      <a id="sampleColor(FMat,IMat):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sampleColor</span><span class="params">(<span name="fdata">fdata: <span class="extype" name="BIDMat.FMat">FMat</span></span>, <span name="ids">ids: <span class="extype" name="BIDMat.IMat">IMat</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@sampleColor(fdata:BIDMat.FMat,ids:BIDMat.IMat):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Similar to sampleColor, but w/out pids, and deleting this method doesn't cause errors.</p><div class="fullcomment"><div class="comment cmt"><p>Similar to sampleColor, but w/out pids, and deleting this method doesn't cause errors.
Keep this arond in case we want to sample but assume all other nodes are in the children set?
</p></div></div>
    </li><li name="BIDMach.models.BayesNetMooc#sampleColor" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sampleColor(fdata:BIDMat.FMat,ids:BIDMat.IMat,pids:BIDMat.IMat):BIDMat.FMat"></a>
      <a id="sampleColor(FMat,IMat,IMat):FMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sampleColor</span><span class="params">(<span name="fdata">fdata: <span class="extype" name="BIDMat.FMat">FMat</span></span>, <span name="ids">ids: <span class="extype" name="BIDMat.IMat">IMat</span></span>, <span name="pids">pids: <span class="extype" name="BIDMat.IMat">IMat</span></span>)</span><span class="result">: <span class="extype" name="BIDMat.FMat">FMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@sampleColor(fdata:BIDMat.FMat,ids:BIDMat.IMat,pids:BIDMat.IMat):BIDMat.FMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Samples all the nodes in the color group (from &quot;ids&quot;) in parallel.</p><div class="fullcomment"><div class="comment cmt"><p>Samples all the nodes in the color group (from &quot;ids&quot;) in parallel. The nodep0 and nodep1
matrices contain the log probabilities of the nodes in the color group given their parents,
plus the log probabilities of those children in the set. Then we exponentiate the result of
those multipled with pproject. Finally, we sample from a uniform distribution and then decide
on the final sampled value for each node (either a 0 or a 1). Notice that the way we sample is
not exactly the same as in Huasha's writeup, but the outcome should be equivalent.</p><p>TODO Double check if the NaNs are going to be a problem (from the p1 / (p0 + p1) line).
</p></div><dl class="paramcmts block"><dt class="param">fdata</dt><dd class="cmt"><p>the sparse data matrix consisting of -1s and 1s.</p></dd><dt class="param">ids</dt><dd class="cmt"><p>Indices of the nodes we are coloring.</p></dd><dt class="param">pids</dt><dd class="cmt"><p>Indices of the nodes we are coloring and their children set.
</p></dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#sdata" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="sdata:BIDMat.SMat"></a>
      <a id="sdata:SMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">sdata</span><span class="result">: <span class="extype" name="BIDMat.SMat">SMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@sdata:BIDMat.SMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#setup" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="setup:Unit"></a>
      <a id="setup:Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">setup</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@setup:Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Performs several crucial steps before we can begin sampling (e.g., setting the CPTs).</p><div class="fullcomment"><div class="comment cmt"><p>Performs several crucial steps before we can begin sampling (e.g., setting the CPTs).</p><p>First, the graph is colored. Then we prepare the CPT (conditional probability tables) by first
determining how many states we need to store for each node. Our &quot;ns&quot; is a vector encoding the
offset for each node. If node &quot;i&quot; has one parent, then ns(i) = 4 because it will take up four
spots in the CPT array; if &quot;p&quot; is its parent, then  Pr(i={0,1}|p={0,1}) has four possibilities.</p><p>The cpt is initialized randomly, with every 2 elements summing to one because of probabiilty
rules with binary variables. Then the &quot;cptoffset&quot; stores the actual offsets (its values are
strictly increasing). Finally, the &quot;iproject&quot; and &quot;pproject&quot; matrices are formed. The
&quot;pproject&quot; is the original dag plus the identity matrix, and is the A_{V_c} in Huasha's
writeup. The &quot;iproject&quot; is a bit more complicated: for each row i, it is zero except at the
i^th spot (which is 1), and for any j s.t. j is a parent of i, we have iproject(i,j) = 2,4,8,
or 16, depending on which parent it was. Usually it's just 2, though.
</p></div></div>
    </li><li name="BIDMach.models.BayesNetMooc#showCpt" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="showCpt(node:String):Unit"></a>
      <a id="showCpt(String):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">showCpt</span><span class="params">(<span name="node">node: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@showCpt(node:String):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">A debugging method to show the CPT of a node (i.e., a question or concept in the MOOC data).</p>
    </li><li name="BIDMach.models.BayesNetMooc#state" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="state:BIDMat.FMat"></a>
      <a id="state:FMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">state</span><span class="result">: <span class="extype" name="BIDMat.FMat">FMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@state:BIDMat.FMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#state0" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="state0:BIDMat.FMat"></a>
      <a id="state0:FMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">state0</span><span class="result">: <span class="extype" name="BIDMat.FMat">FMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@state0:BIDMat.FMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="BIDMach.models.BayesNetMooc#state1" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="state1:BIDMat.FMat"></a>
      <a id="state1:FMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">state1</span><span class="result">: <span class="extype" name="BIDMat.FMat">FMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@state1:BIDMat.FMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="scala.AnyRef#synchronized" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="synchronized[T0](x$1:=&gt;T0):T0"></a>
      <a id="synchronized[T0](⇒T0):T0"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">synchronized</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="params">(<span name="arg0">arg0: ⇒ <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>)</span><span class="result">: <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@synchronized[T0](x$1:=&gt;T0):T0" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#tdata" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="tdata:BIDMat.SMat"></a>
      <a id="tdata:SMat"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">var</span>
      </span>
      <span class="symbol">
        <span class="name">tdata</span><span class="result">: <span class="extype" name="BIDMat.SMat">SMat</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@tdata:BIDMat.SMat" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="scala.AnyRef#toString" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="toString():String"></a>
      <a id="toString():String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">toString</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@toString():String" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="BIDMach.models.BayesNetMooc#updateCpt" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="updateCpt:Unit"></a>
      <a id="updateCpt:Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">updateCpt</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@updateCpt:Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Updates the CPT after each sampling round, by using the &quot;state&quot; matrix that contains samples.</p><div class="fullcomment"><div class="comment cmt"><p>Updates the CPT after each sampling round, by using the &quot;state&quot; matrix that contains samples.
The &quot;index&quot; dictates the indices of &quot;counts&quot; that are incremented for each iteration. Note
that normcounts is the same as counts, except for every 2 consecutive spots, the elements are
flipped. Then normcounts + counts solves things and gets a correct normalizing constant.
</p></div></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait():Unit"></a>
      <a id="wait():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">()</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@wait():Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait(x$1:Long,x$2:Int):Unit"></a>
      <a id="wait(Long,Int):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Long">Long</span></span>, <span name="arg1">arg1: <span class="extype" name="scala.Int">Int</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@wait(x$1:Long,x$2:Int):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait(x$1:Long):Unit"></a>
      <a id="wait(Long):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <span class="extype" name="scala.Long">Long</span></span>)</span><span class="result">: <span class="extype" name="scala.Unit">Unit</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#BIDMach.models.BayesNetMooc$@wait(x$1:Long):Unit" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scala.AnyRef">
              <h3>Inherited from <span class="extype" name="scala.AnyRef">AnyRef</span></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <span class="extype" name="scala.Any">Any</span></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>